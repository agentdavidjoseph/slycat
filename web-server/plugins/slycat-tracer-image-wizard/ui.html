<div>

  <ul class="nav nav-pills">
    <li data-bind="css:{active:tab() == 0}"><a>Create Model</a></li>
    <li data-bind="css:{active:tab() == 1}"><a>Choose Host</a></li>
    <li data-bind="css:{active:tab() == 2}"><a>Select Table</a></li>
    <li data-bind="css:{active:tab() == 3}"><a>Select Columns</a></li>
    <li data-bind="css:{active:tab() == 4}"><a>Results</a></li>
  </ul>

  <div class="tab-content">
    <div data-bind="visible:tab() == 0">
      <form class="form-horizontal" role="form">
        <slycat-model-controls params="name:model.name,description:model.description,marking:model.marking"></slycat-model-controls>
      </form>
    </div>
    <div data-bind="visible:tab() == 1">
      <form class="form-horizontal" role="form">
        <slycat-remote-controls params="hostname:remote.hostname,username:remote.username,password:remote.password"></slycat-remote-controls>
      </form>
    </div>
    <div data-bind="visible:tab() == 2" style="height: 400px">
      <slycat-remote-browser params="type:'remote',sid:remote.sid,hostname:remote.hostname,selection:browser.selection,path:browser.path,open_file_callback:load_table"></slycat-remote-browser>
    </div>
    <div data-bind="visible:tab() == 3">
      <table style="width:100%">
        <thead>
          <tr>
            <tr><th>Variable</th><th>Input</th><th>Output</th><th>Rating</th><th>Category</th><th>Image</th></tr>
          </tr>
        </thead>
        <tbody data-bind="foreach:attributes">
          <tr>
            <td data-bind="text:name"></td>
            <td><input type="checkbox" data-bind="click: $parent.set_input, checked: input"/></td>
            <td><input type="checkbox" data-bind="click: $parent.set_output, checked: output"/></td>
            <td data-bind="if:type()!='string'"><input type="checkbox" data-bind="click: $parent.set_rating, checked: rating"/></td>
            <td><input type="checkbox" data-bind="click: $parent.set_category, checked: category"/></td>
            <td data-bind="if:type()=='string'"><input type="checkbox" data-bind="click: $parent.set_image, checked: image"/></td>
          </tr>
        </tbody>
      </table>
    </div>
    <div data-bind="visible:tab() == 4">
      <slycat-model-results params="{mid: model._id}"></slycat-model-results>
    </div>
  </div>

  <nav>
    <ul class="pager">
      <li class="previous" data-bind="visible:tab() != 4"><a data-bind="click:cancel" data-dismiss="modal">Cancel</a></li>
      <li class="next" data-bind="visible:tab() == 0"><a data-bind="click:create_model">Next</a></li>
      <li class="next" data-bind="visible:tab() == 1"><a data-bind="click:connect">Next</a></li>
      <li class="next" data-bind="visible:tab() == 2"><a data-bind="click:load_table">Next</a></li>
      <li class="next" data-bind="visible:tab() == 3"><a data-bind="click:finish">Finish</a></li>
      <li class="next" data-bind="visible:tab() == 4"><a data-dismiss="modal">Close</a></li>
    </ul>
  </nav>
</div>
